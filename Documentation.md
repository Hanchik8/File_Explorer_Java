### Документация проекта: Файловый Проводник

#### Общая информация
Проект представляет собой приложение, реализующее функциональность файлового проводника, максимально приближенного к проводнику операционной системы Windows. Основной задачей проекта является создание интерфейса и функционала, обеспечивающего управление файлами и каталогами.

### Основные характеристики проекта

- **Язык программирования**: Java.
- **Архитектурный шаблон**: MVC (Model-View-Controller).
- **Используемые библиотеки**:
  - **Swing**: для создания пользовательского интерфейса.
  - **AWT**: для обработки системных функций, таких как буфер обмена и работа с десктопным окружением.
  - **Util**: для работы с коллекциями и обработкой файлов.

### Архитектурная структура

Проект построен на архитектуре **MVC**, где:
- **Model**: содержит логику управления файлами и каталогами, такие как операции поиска, сортировки, копирования и удаления.
- **View**: отвечает за визуальное представление данных и взаимодействие с пользователем.
- **Controller**: обрабатывает действия пользователя, используя методы из Model, обновляет View в соответствии с изменениями.

### Функциональность

#### **Основные функции проекта**
1. **Навигация по файловой системе**:
   - Просмотр содержимого директорий.
   - Переход в родительский каталог.
   - Обновление текущего каталога.
   - Поддержка операций "Отмена" и "Повтор" для навигации.
2. **Сортировка файлов**:
   - По имени.
   - По размеру.
   - По дате последнего изменения.
3. **Поиск файлов**:
   - Рекурсивный поиск файлов и директорий по имени.
4. **Операции с файлами**:
   - Открытие файлов в системных приложениях.
   - Создание новых файлов и папок.
   - Переименование.
   - Копирование, вырезание, вставка.
   - Удаление файлов и папок.
5. **Работа с системными корневыми каталогами**:
   - Поддержка разных операционных систем (Windows, MacOS, Linux).


### Основные классы и их методы

#### **1. `DirectoryManagementModel`**
Этот класс отвечает за управление каталогами. Основные методы:
- **`updateAndSortFileList`**:
  Сортирует массив файлов по заданным критериям (имя, размер, дата).
- **`searchFileByName`**:
  Выполняет поиск файлов по имени с рекурсивным обходом подкаталогов.
- **`undo` / `redo`**:
  Обеспечивают возможность отмены и повторения действий по навигации.
- **`moveToParentDirectory`**:
  Переходит в родительский каталог.
- **`updateDirectory`**:
  Обновляет содержимое текущего каталога.
- **`listDirectoryContent`**:
  Возвращает список файлов в заданной директории с фильтрацией по поддерживаемым форматам.
- **`getRootDirectories`**:
  Возвращает список корневых директорий для текущей операционной системы.
- **`getFileExtension`**:
  Получает расширение файла.

#### **2. `FileManipulationModel`**
Класс для выполнения операций с файлами. Основные методы:
- **`openFile`**:
  Открывает файл с использованием системного приложения.
- **`createFile`**:
  Создает файл или папку с проверкой на уникальность имени.
- **`renameFile`**:
  Переименовывает файл с учетом наличия расширения.
- **`copyFile` / `cutFile` / `pasteFile`**:
  Реализуют копирование, вырезание и вставку файлов.
- **`deleteFile`**:
  Удаляет файл или каталог (включая вложенные файлы).
- **`ensureUniqueFileName`**:
  Проверяет и создает уникальное имя файла, если файл с таким именем уже существует.

#### **3. DirectoryManagementController**
Этот класс управляет взаимодействием между представлением (View) и моделью (Model) для работы с каталогами. Основные функции включают обработку навигации, сортировки и поиска.

- **Основные методы:**
  - **`initialize`**: Инициализирует контроллер, связывает компоненты интерфейса с командами и событиями.
  - **`setupPathFieldListener`**: Устанавливает обработчик для поля ввода пути.
    - Используется команда **`PathInputCommand`** для обработки пользовательского ввода пути.
  - **`setupSortListener`**: Настраивает слушатель для выбора параметра сортировки.
    - Обрабатывает изменения с помощью **`SortComboBoxListener`**.
  - **`setupNavigationButtons`**: Связывает кнопки навигации с командами:
    - **`MoveUpCommand`**: Переход в родительский каталог.
    - **`UndoCommand`**: Отмена последнего действия.
    - **`RedoCommand`**: Повтор последнего отмененного действия.
    - **`RefreshCommand`**: Обновление текущего каталога.
  - **`setupSearchField`**: Настраивает поле поиска и добавляет обработчики для событий поиска.
    - Использует команду **`SearchCommand`**.
  - **`registerButtonAction`**: Связывает кнопку интерфейса с обработчиком действий, реализующим интерфейс **`Command`**.

#### **4. FileManipulationController**
Этот класс отвечает за взаимодействие с файлами, включая операции копирования, вставки, удаления, переименования и отображения деталей.

- **Основные методы:**
  - **`initialize`**: Инициализирует контроллер и связывает элементы интерфейса с соответствующими командами.
  - **`setupFileListListener`**: Устанавливает обработчики для событий, связанных со списком файлов.
    - Обработчики, такие как **`FileListMouseListener`**, обеспечивают взаимодействие пользователя с файлами.
  - **`setupNewComboBoxListener`**: Настраивает обработчик для создания новых файлов и папок.
    - Использует команду **`NewFileCommand`**.
  - **`setupToolbarActions`**: Настраивает кнопки панели инструментов:
    - **`CopyFileCommand`**: Копирование файла.
    - **`PasteFileCommand`**: Вставка файла.
    - **`CutFileCommand`**: Вырезание файла.
    - **`DeleteFileCommand`**: Удаление файла.
    - **`RenameFileCommand`**: Переименование файла.
  - **`setupDetailsCheckBox`**: Настраивает переключатель для отображения или скрытия панели деталей.
    - Использует команду **`DetailCheckBoxCommand`**.
  - **`registerToolbarAction`**: Связывает кнопки панели инструментов с командами через слушатель **`ButtonClickListener`**.
  - **`getCurrentDirectory`**: Возвращает текущий каталог, указанный в поле пути.
  - **`getSelectedFile`**: Возвращает выбранный файл из списка файлов.
  - **`updateView`**: Обновляет вид интерфейса для отображения изменений в файловой системе.
  - **`updateJTree`**: Обновляет дерево каталогов в боковой панели на основе текущего каталога.

#### **5. MainView**
Класс реализует графический интерфейс приложения. Он создает и управляет основными панелями, такими как панель навигации, центр отображения, боковая панель, панель инструментов и панель деталей.

- **Основные методы:**
  - **`setupExplorerView`**: Создает основное представление файлового проводника, включая панели и разделители.
    - Создает панели: навигации (**`NavigationPanel`**), инструментов (**`ToolbarPanel`**), центра (**`CenterPanel`**), боковой панели (**`SidebarPanel`**) и панели деталей (**`FileDetailsPanel`**).
  - **`updateView`**: Обновляет центральную панель и путь в строке навигации.
  - **`updateBtnState`**: Изменяет состояние кнопок инструментов (активные/неактивные).
  - **`updateFileDetails`**: Обновляет панель с деталями файла.
  - **`showHideFileDetailsPanel`**: Показывает или скрывает панель с деталями файла.
  - Методы для доступа к компонентам:
    - **`getNavigationPanel`**: Возвращает панель навигации.
    - **`getCenterPanel`**: Возвращает центральную панель.
    - **`getToolbarPanel`**: Возвращает панель инструментов.
    - **`getSidebarPanel`**: Возвращает боковую панель.
    - **`getFileDetailsPanel`**: Возвращает панель деталей.
    - **`getPopupToolbarPanel`**: Возвращает всплывающую панель инструментов.

### Связь классов в архитектуре MVC

- **Контроллеры (`DirectoryManagementController` и `FileManipulationController`)**:
  - Посредники между интерфейсом (**`MainView`**) и моделями (**`DirectoryManagementModel`** и **`FileManipulationModel`**).
  - Отвечают за передачу команд, обработку событий и обновление интерфейса.

- **Модели (`DirectoryManagementModel`, `FileManipulationModel`)**:
  - Реализуют бизнес-логику и работу с файловой системой.

- **Представление (`MainView`)**:
  - Отображает интерфейс пользователя, обновляемый на основе данных из моделей.

### Системные требования

- **Операционная система**: Windows, MacOS или Linux.
- **Java Runtime Environment**: версия 8 или выше.
- **Дополнительные требования**: Поддержка Java Swing и AWT для GUI.

### Заключение
Данный проект предоставляет базовый функционал управления файлами, используя знакомый интерфейс проводника Windows. Реализованные функции, такие как навигация, сортировка, операции с файлами, делают приложение удобным инструментом для работы с файловой системой.